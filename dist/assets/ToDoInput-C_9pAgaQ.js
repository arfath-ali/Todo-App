import{d as U,e as k,b as v,r as T,j as a,f as D}from"./index-Xln3jr_4.js";const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function j(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}let i;const C=new Uint8Array(16);function R(){if(!i){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(C)}const E=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b={randomUUID:E};function N(e,t,u){var s;if(b.randomUUID&&!e)return b.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??R();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,j(n)}const f=({windowWidth:e})=>{const{allToDos:t,setAllToDos:u,setActiveToDos:n}=U(),{currentPath:s}=k(),{userProfile:d,isSignedIn:w}=v(),p=d==null?void 0:d.email,[c,m]=T.useState(""),I=r=>{m(r.target.value)},x=async()=>{var g;if(!w){alert("Please sign in to add a ToDo.");return}if(c.trim()==="")return;const r={toDoId:N(),toDo:c,isChecked:!1,createdAt:Date.now()};try{await D.post("/api/create-todo-list",{email:p,newToDo:r,index:t.length});const h=(g=(await D.post("/api/get-todo-list",{email:p,newId:r.toDoId})).data)==null?void 0:g.result;u(l=>[...l,h]),n(l=>[...l,h])}catch(y){console.log(y)}m("")};return a.jsxs("div",{className:`bg-white dark:bg-gray-900 ${s==="all"?"flex":"hidden"} ${e<375?"flex-col items-end justify-center gap-2":"flex-row items-center justify-between"} app-text-medium rounded-[5px] px-5 py-[0.875rem]`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"desktop:h-6 desktop:w-6 box-border h-5 w-5 rounded-full border-1 border-gray-300 dark:border-gray-700"}),a.jsx("input",{type:"text",placeholder:"Create a new todo...",className:"w-[12.5rem] max-w-[12.5rem] outline-none placeholder:text-black placeholder:opacity-40 hover:cursor-pointer dark:placeholder:text-gray-400",onChange:I,onKeyDown:r=>{r.key==="Enter"&&x()},value:c})]}),a.jsx("button",{className:"button-gradient rounded-[5px] p-1 font-bold hover:cursor-pointer dark:text-black",onClick:()=>x(),children:"Create"})]})};export{f as default};
