import{u as k,a as w,b as j,c as y,r,j as e,N as z}from"./index-B_65Paxz.js";import{u as N,U as m,C as g,S as C,s as L}from"./icon-sign-out-DMKqUw_F.js";const S="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='26'%20height='26'%3e%3cpath%20fill='%23FFF'%20fill-rule='evenodd'%20d='M13%2021a1%201%200%20011%201v3a1%201%200%2011-2%200v-3a1%201%200%20011-1zm-5.657-2.343a1%201%200%20010%201.414l-2.121%202.121a1%201%200%2001-1.414-1.414l2.12-2.121a1%201%200%20011.415%200zm12.728%200l2.121%202.121a1%201%200%2001-1.414%201.414l-2.121-2.12a1%201%200%20011.414-1.415zM13%208a5%205%200%20110%2010%205%205%200%20010-10zm12%204a1%201%200%20110%202h-3a1%201%200%20110-2h3zM4%2012a1%201%200%20110%202H1a1%201%200%20110-2h3zm18.192-8.192a1%201%200%20010%201.414l-2.12%202.121a1%201%200%2001-1.415-1.414l2.121-2.121a1%201%200%20011.414%200zm-16.97%200l2.121%202.12A1%201%200%20015.93%207.344L3.808%205.222a1%201%200%20011.414-1.414zM13%200a1%201%200%20011%201v3a1%201%200%2011-2%200V1a1%201%200%20011-1z'/%3e%3c/svg%3e",I="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='26'%20height='26'%3e%3cpath%20fill='%23FFF'%20fill-rule='evenodd'%20d='M13%200c.81%200%201.603.074%202.373.216C10.593%201.199%207%205.43%207%2010.5%207%2016.299%2011.701%2021%2017.5%2021c2.996%200%205.7-1.255%207.613-3.268C23.22%2022.572%2018.51%2026%2013%2026%205.82%2026%200%2020.18%200%2013S5.82%200%2013%200z'/%3e%3c/svg%3e",E=({windowWidth:U})=>{const n=k(),{theme:p,toggleTheme:h}=w(),{userProfile:a,isSignedIn:u,isUserProfileLoading:x}=j(),{isSignedOut:l,setIsSignedOut:c}=y(),f=N(),[v,b]=r.useState(m);r.useEffect(()=>{a&&b((a==null?void 0:a.profilePicture)||m)},[a]);const s=r.useRef(null),[o,d]=r.useState(!1),i=t=>{s.current&&!s.current.contains(t.target)&&d(!1)};return r.useEffect(()=>(o?document.addEventListener("click",i):document.removeEventListener("click",i),()=>{document.removeEventListener("click",i)}),[o]),e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"desktop:max-w-[33.75rem] relative z-10 mx-auto flex max-w-[30rem] items-center justify-between pt-12 pb-10",children:[e.jsx("h1",{className:"app-text-large text-white uppercase",children:"todo"}),e.jsx("img",{src:p==="dark"?S:I,className:"tablet:w-[26px] tablet:h-[26px] h-5 w-[1.2075rem] hover:cursor-pointer",alt:"Light Theme Icon",onClick:h})]}),e.jsx("div",{className:"desktop:fixed desktop:top-4 absolute top-3 right-6 z-50",ref:s,onClick:()=>{d(t=>!t)},children:x?e.jsx("div",{className:"tablet:w-10 tablet:h-10 h-5 w-5",children:e.jsx(g,{color:"#fff",size:"100%"})}):u?e.jsx("img",{src:v,className:"tablet:h-10 tablet:w-10 h-5 w-5 rounded-[100px] hover:cursor-pointer",alt:"User Profile"}):e.jsx("button",{className:"app-text-medium rounded-[5px] border border-gray-100 px-1 py-1 font-bold text-white hover:cursor-pointer hover:border-gray-100 hover:bg-gray-100 hover:text-black dark:border-gray-100 dark:text-white dark:hover:border-gray-900 dark:hover:bg-gray-900 dark:hover:text-gray-200",onClick:t=>{t.preventDefault(),t.stopPropagation(),n("/sign-in")},children:"Sign in"})}),o&&e.jsxs("div",{className:"tablet:top-16 app-text-medium absolute top-10 right-2 z-20 flex flex-col rounded-[5px] bg-white dark:bg-gray-700 dark:text-gray-400",children:[e.jsx(z,{to:"/profile",className:"px-2 py-2.5 text-center dark:text-gray-300",onClick:t=>t.stopPropagation(),children:"Profile"}),e.jsx("div",{className:"h-0.5 border border-gray-400 dark:border-gray-600"}),e.jsxs("button",{onClick:t=>{t.stopPropagation(),c(!0),setTimeout(()=>{L(n,f),c(!1)},1e3)},className:"signOut-button-gradient desktop:min-w-[112px] desktop:max-h-[38px] flex max-h-[34px] min-w-[96px] cursor-pointer items-center justify-center gap-2 rounded-b-[5px] px-2 py-2.5 dark:text-black",children:[l?e.jsx(g,{color:"#fff",size:24}):"Sign Out",!l&&e.jsx("img",{src:C,className:"h-4 w-4"})]})]})]})};export{E as default};
