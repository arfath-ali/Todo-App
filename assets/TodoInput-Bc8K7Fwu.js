import{d as h,e as w,b as I,r as T,j as s,f as v}from"./index-BtnGd_VF.js";const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function k(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}let i;const U=new Uint8Array(16);function j(){if(!i){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(U)}const C=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g={randomUUID:C};function D(e,t,c){var r;if(g.randomUUID&&!e)return g.randomUUID();e=e||{};const d=e.random??((r=e.rng)==null?void 0:r.call(e))??j();if(d.length<16)throw new Error("Random bytes length must be >= 16");return d[6]=d[6]&15|64,d[8]=d[8]&63|128,k(d)}const N=({windowWidth:e})=>{const{setTodoOrder:t,setTodos:c}=h(),{currentPath:d}=w(),{userProfile:r,isSignedIn:x}=I(),u=r==null?void 0:r.email,[l,p]=T.useState(""),y=n=>{p(n.target.value)},m=async()=>{if(!x){alert("Please sign in to add a Todo.");return}if(l.trim()==="")return;const n={todoId:D(),todo:l,isChecked:!1,createdAt:Date.now(),toggledIndexInActiveList:null,toggledIndexInCompletedList:null,toggledTimeInActiveList:null,toggledTimeInCompletedList:null};t(a=>({...a,allTodos:[...a.allTodos||[],n.todoId],activeTodos:[...a.activeTodos||[],n.todoId]})),c(a=>[...a||[],n]);const b=JSON.stringify({email:u,newTodo:n});v.post("/api/create-todo-list",{email:u,newTodo:n}).catch(()=>{if(navigator.sendBeacon){const a=new Blob([b],{type:"application/json"});navigator.sendBeacon("/api/create-todo-list",a)}}),p("")};return s.jsxs("div",{className:`bg-white dark:bg-gray-900 ${d==="all"?"flex":"hidden"} ${e<375?"flex-col items-end justify-center gap-2":"flex-row items-center justify-between"} app-text-medium rounded-[5px] px-5 py-[0.875rem]`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"desktop:h-6 desktop:w-6 box-border h-5 w-5 rounded-full border-1 border-gray-300 dark:border-gray-700"}),s.jsx("input",{type:"text",placeholder:"Create a new todo...",className:"tablet:w-[20.5rem] desktop:max-w-[24rem] desktop:w-[24rem] tablet:max-w-[20.5rem] w-[12.5rem] max-w-[12rem] outline-none placeholder:text-black placeholder:opacity-40 hover:cursor-pointer dark:placeholder:text-gray-400",onChange:y,onKeyDown:n=>{n.key==="Enter"&&m()},value:l})]}),s.jsx("button",{className:"button-gradient rounded-[5px] p-1 font-bold hover:cursor-pointer dark:text-black",onClick:()=>m(),children:"Create"})]})};export{N as default};
